<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="./styles.css">
  </head>
  <body>
    <script src="./bower_components/webcomponentsjs/webcomponents.js"></script>
    <link rel="import" href="./bower_components/x-webmidi/x-webmidirequestaccess.html">
    <!link rel="import" href="./components/polymer_analyser.html">
    <link rel="import" href="./bower_components/webaudio-controls/webaudio-controls.html">
    <x-webmidirequestaccess sysex="true" input="true" output="true"></x-webmidirequestaccess>
    
    <div id="title">Pitch Shifter & Delay</div>
    <div id="diagram">
      <img src="./images/mic.png" class="colorinvert" id="mic">
      <img src="./images/speaker.png" class="colorinvert" id="speaker">
      <div id="centerline"></div>
      <div id="shifter" class="node" style="visibility:hidden;">P</div>
      <div id="delayloop" style="visibility:hidden;">
        <div id="delay" class="node">D</div>
        <div id="arrow"></div>
      </div> 
      <div id="delaymain" class="node" style="visibility:hidden;">D</div>
    </div>
    <div id="control-panel">
      <div id="div-button-ps-text">PitchShift</div>
      <div id="div-button-ps" class="button-size"><webaudio-switch id="switch-pitchshift" src="images/ProphetButton.png" value="0" height="128" width="85"></webaudio-switch></div>
      <div id="div-button-dl-text">Delay</div>
      <div id="div-button-dl" class="button-size"><webaudio-switch id="switch-delay" src="images/ProphetButton.png" value="0" height="128" width="85"></webaudio-switch></div>
      <div id="div-button-dltype-text">Type</div>
      <div id="div-button-direction"><webaudio-switch id="switch-delaydirection" src="images/switch_toggle.png" value="0" height="56" width="56"></webaudio-switch></div>
      <div id="div-button-pitch-text">Pitch</div>
      <div id="div-button-pitch"><webaudio-switch id="switch-togglepitch" src="images/switch_toggle.png" value="0" height="56" width="56"></webaudio-switch></div>
      <div id="div-button-dltime-text">Time</div>
      <div id="div-button-dltime"><webaudio-knob id="knob-delaytime" src="./images/flatknob3.png" sprites="30" value="0.5" min="0" max="1" step="0.05" diameter="35"></webaudio-knob></div>
      <div id="div-button-dlgain-text">Gain</div>
      <div id="div-button-dlgain"><webaudio-knob id="knob-delaygain" src="./images/flatknob3.png" sprites="30" value="0.5" min="0" max="0.8" step="0.05" diameter="35"></webaudio-knob></div>
    </div>
    
	  <script type="text/javascript" src="./js/dsp.js"></script>
	  <script type="text/javascript" src="./js/pitchshifter.js"></script>
	  <script type="text/javascript" src="./js/delayProcess.js"></script>
    <script type="text/javascript" src="./js/app.js"></script>

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                             m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                             })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
    ga('create', 'UA-35804975-1', 'auto');
    ga('send', 'pageview');
    </script>

  </body>
</html>
